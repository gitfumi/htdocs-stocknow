!function(Z){Z(function(){var a=Z("form"),o=Z(".js-formItem"),f=Z(".js-formItemBody"),e=Z(".js-formItemLabel"),i=Z(".js-submit"),n=Z(".js-validate"),h=Z(".js-required"),s=Z(".js-checkRequired"),u=Z(".js-validateTextGroup"),d=Z(".js-symbol"),v=Z(".js-katakana"),p=Z(".js-alphabet"),m=Z(".js-number"),b=Z(".js-zip"),g=Z(".js-tel"),k=Z(".js-url"),j=Z(".js-email"),C=Z(".js-emailCheck"),A=Z(".js-password"),H=Z(".js-passwordCheck"),F="is-error",x="formItemError",w="必須項目です。",K="記号が含まれています。",$="カタカナのみ入力可能です。",y="半角英語のみ入力可能です。",L="数値のみ入力可能です。",T="郵便番号の形式が異なります。",z="電話番号の形式が異なります。",D="URLの形式が異なります。",I="メールアドレスの形式が異なります。",N="入力したメールアドレスと内容が異なります。",S="6文字以上「半角の英字と数字」を組み合わせてください。",R="入力したパスワードと内容が異なります。";({init:function(){var a=this;Z(function(){a.blur(),a.change(),a.submit()})},blur:function(){var a=this;n.on("blur",function(){a.validateText(Z(this))})},change:function(){var e=this;s.each(function(){var a=Z(this);a.find(Z(":radio, :checkbox")).on("change",function(){e.validateChecked(a)})})},submit:function(){var t=this;a.each(function(){var e=Z(this);e.find(i).on("click",function(){Z(this).closest(a).submit()}),e.on("submit",function(){if(e.find(n).each(function(){t.validateText(Z(this))}),e.find(s).each(function(){t.validateChecked(Z(this))}),e.find(Z("."+x)).length){var a=e.find(Z("."+x)[0]).closest(o).offset().top;return Z("html,body").animate({scrollTop:a},"slow"),!1}})})},insertLabel:function(a){return a.closest(o).find(e).length?a.closest(o).find(e).text()+"は":""},validateChecked:function(a){var e=a.closest(o).find("."+x),t=this.insertLabel(a);0===a.find(Z(":radio:checked, :checkbox:checked")).length&&a.closest(f).append('<p class="'+x+'">'+t+w+"</p>"),e.length&&e.remove()},validateText:function(t){function n(a,e){i.length&&i.remove(),e?t.addClass(F).closest(f).append('<p class="'+x+'">'+e+a+"</p>"):t.addClass(F).closest(f).append('<p class="'+x+'">'+a+"</p>")}function s(){i.length&&t.removeClass(F),t.closest(u).length?0===t.closest(u).find("."+F).length&&i.remove():i.remove()}function c(a,e){var t;switch(e){case"isKanji":t=/(?:[々〇〻\u3400-\u9FFF\uF900-\uFAFF]|[\uD840-\uD87F][\uDC00-\uDFFF])/;break;case"isHiragana":t=/[ぁ-ん]/;break;case"isKatakana":t=/[ァ-ン]/;break;case"isHalfKatakana":t=/[ｧ-ﾝﾞﾟ]/;break;case"isAlphabet":t=/[ａ-ｚＡ-Ｚ]/;break;case"isHalfAlphabet":t=/[a-zA-Z]/;break;case"isNumber":t=/[０-９]/;break;case"isHalfNumber":t=/[0-9]/}return!!a.match(t)}function e(a){return c(a,"isAlphabet")&&(a=a.replace(/[ａ-ｚＡ-Ｚ]/g,function(a){return String.fromCharCode(a.charCodeAt(0)-65248)})),a.match(/[０-９]/)&&(a=a.replace(/[０-９]/g,function(a){return String.fromCharCode(a.charCodeAt(0)-65248)})),a}var r=t.val(),i=t.closest(o).find("."+x),l=this.insertLabel(t);t.is(":visible")||s(),t.filter(h).each(function(){""===r?n(w,l):s()}),t.filter(d).each(function(){if(""!=r){for(var a=r.split(""),e=!1,t=0;t<a.length;t++){var i=a[t];if(!(c(i,"isKanji")||c(i,"isHiragana")||c(i,"isKatakana")||c(i,"isHalfKatakana")||c(i,"isAlphabet")||c(i,"isHalfAlphabet"))){n(K),e=!0;break}}e||s()}}),t.filter(m).each(function(){""!=r&&(r=e(r),t.val(r),c(r,"isHalfNumber")?s():n(L,l))}),t.filter(p).each(function(){""!=r&&(r=e(r),t.val(r),c(r,"isHalfAlphabet")?s():n(y,l))}),t.filter(b).each(function(){""!=r&&(r=e(r),t.val(r),r.match(/[-－ー]/)&&(r=r.replace(/[-－ー]/g,""),t.val(r)),r.match(/^[0-9]{7}$/)?(s(),AjaxZip3.zip2addr(this,"","address","address"),AjaxZip3.zip2addr("postal-code","","address-level1","address-level2")):n(T))}),t.filter(g).each(function(){""!=r&&(r=e(r),t.val(r),r.match(/[-－ー]/)&&(r=r.replace(/[-－ー]/g,""),t.val(r)),r.match(/^[0-9]{9,12}$/)?s():n(z))}),t.filter(v).each(function(){if(""!=r){var e={"ｶﾞ":"ガ","ｷﾞ":"ギ","ｸﾞ":"グ","ｹﾞ":"ゲ","ｺﾞ":"ゴ","ｻﾞ":"ザ","ｼﾞ":"ジ","ｽﾞ":"ズ","ｾﾞ":"ゼ","ｿﾞ":"ゾ","ﾀﾞ":"ダ","ﾁﾞ":"ヂ","ﾂﾞ":"ヅ","ﾃﾞ":"デ","ﾄﾞ":"ド","ﾊﾞ":"バ","ﾋﾞ":"ビ","ﾌﾞ":"ブ","ﾍﾞ":"ベ","ﾎﾞ":"ボ","ﾊﾟ":"パ","ﾋﾟ":"ピ","ﾌﾟ":"プ","ﾍﾟ":"ペ","ﾎﾟ":"ポ","ｳﾞ":"ヴ","ﾜﾞ":"ヷ","ｦﾞ":"ヺ","ｱ":"ア","ｲ":"イ","ｳ":"ウ","ｴ":"エ","ｵ":"オ","ｶ":"カ","ｷ":"キ","ｸ":"ク","ｹ":"ケ","ｺ":"コ","ｻ":"サ","ｼ":"シ","ｽ":"ス","ｾ":"セ","ｿ":"ソ","ﾀ":"タ","ﾁ":"チ","ﾂ":"ツ","ﾃ":"テ","ﾄ":"ト","ﾅ":"ナ","ﾆ":"ニ","ﾇ":"ヌ","ﾈ":"ネ","ﾉ":"ノ","ﾊ":"ハ","ﾋ":"ヒ","ﾌ":"フ","ﾍ":"ヘ","ﾎ":"ホ","ﾏ":"マ","ﾐ":"ミ","ﾑ":"ム","ﾒ":"メ","ﾓ":"モ","ﾔ":"ヤ","ﾕ":"ユ","ﾖ":"ヨ","ﾗ":"ラ","ﾘ":"リ","ﾙ":"ル","ﾚ":"レ","ﾛ":"ロ","ﾜ":"ワ","ｦ":"ヲ","ﾝ":"ン","ｧ":"ァ","ｨ":"ィ","ｩ":"ゥ","ｪ":"ェ","ｫ":"ォ","ｯ":"ッ","ｬ":"ャ","ｭ":"ュ","ｮ":"ョ","｡":"。","､":"、","ｰ":"ー","｢":"「","｣":"」","･":"・"};if(c(r,"isHiragana")&&(r=r.replace(/[ぁ-ん]/g,function(a){return String.fromCharCode(a.charCodeAt(0)+96)}),t.val(r)),c(r,"isHalfKatakana")){var a=new RegExp("("+Object.keys(e).join("|")+")","g");r=r.replace(a,function(a){return e[a]}).replace(/ﾞ/g,"゛").replace(/ﾟ/g,"゜"),t.val(r)}r&&!r.match(/^[ァ-ロワヲンー　\s]*$/)?n($,l):s()}}),t.filter(k).each(function(){""!=r&&(r.match(/^http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w-.\/?%&=]*)?/)?s():n(D))}),t.filter(j).each(function(){""!=r&&(r&&!r.match(/.+@.+\..+/g)?n(I):s())}),t.filter(C).each(function(){""!=r&&(Z(this).val()&&Z(this).val()!=Z("input[name="+Z(this).attr("name").replace(/^(.+)-check$/,"$1")+"]").val()?n(N):s())}),t.filter(A).each(function(){if(""!=r){r=e(r);var a=String(r).length;t.val(r),c(r,"isHalfAlphabet")&&c(r,"isHalfNumber")&&6<=a?s():n(S,l)}}),t.filter(H).each(function(){""!=r&&(Z(this).val()&&Z(this).val()!=Z("input[name="+Z(this).attr("name").replace(/^(.+)-check$/,"$1")+"]").val()?n(R):s())})}}).init()})}(jQuery);